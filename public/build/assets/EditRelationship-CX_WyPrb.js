import{T as k,c as w,w as d,o as v,a as s,j as I,b as t,u as o,k as P}from"./app-P-OTlrBq.js";import{_ as A}from"./AppLayout-shgOLW6t.js";import{s as g}from"./button.esm-npC4AUPQ.js";import{_ as h}from"./RecursiveList-oZO_eyet.js";import{s as m,a as E}from"./column.esm-z6iGBS7s.js";import"./dropdown.esm-ty002poI.js";import"./inputtext.esm-lOB12yc5.js";const M={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg px-6 py-10"},D=s("h1",{class:"text-2xl uppercase mb-3 font-bold"},"Edición de Rol - Permiso - Menú",-1),j=s("div",{class:"flex items-center mb-4"},[s("input",{checked:"",type:"checkbox",disabled:"",class:"w-4 h-4 text-blue-600 bg-blue-500 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),s("label",{class:"ms-2 text-sm text-gray-900 dark:text-gray-300"},"Controller")],-1),B=s("div",{class:"flex items-center mb-4"},[s("input",{checked:"",type:"checkbox",disabled:"",class:"w-4 h-4 text-blue-600 bg-blue-500 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),s("label",{class:"ms-2 text-sm text-gray-900 dark:text-gray-300"},"Index")],-1),C=["value"],N={data(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}},T=Object.assign(N,{__name:"EditRelationship",props:{role:{type:Object},rolePermission:{type:Array},roleMenu:{type:Array},permissions:{type:Array},menus:{type:Array}},emits:["upload-data"],setup(l){const c=l,a=k({alias:[],name:[]});function u(e){const r=[];function i(n,f){const b=n.id;n.children&&n.children.forEach(x=>{const _=[...f,b];i(x,_)}),r.push(b)}return e.forEach(n=>{i(n,[])}),r}const y=[c.role];u(c.rolePermission).forEach(e=>a.alias.push(e)),u(c.roleMenu).forEach(e=>a.name.push(e));const p=(e,r)=>{a[r].includes(e)?a[r]=a[r].filter(i=>i!==e):a[r].push(e)};return(e,r)=>(v(),w(A,{title:"Dashboard - Roles - Permisos - Menús"},{default:d(()=>[s("div",M,[s("div",R,[s("div",$,[D,s("form",{onSubmit:r[0]||(r[0]=I(i=>o(a).put(e.route("roles.updateRelationship",c.role.id)),["prevent"]))},[t(o(E),{value:y,class:"pb-10",tableStyle:"min-width: 50rem; padding: 100rem;"},{default:d(()=>[t(o(m),{field:"name",header:"Rol",class:"align-top"}),t(o(m),{header:"Permisos",class:"align-top"},{body:d(i=>[j,t(h,{target:"alias",items:l.permissions,comparisionItems:l.rolePermission,comparisionFlag:!0,onUploadData:p},null,8,["items","comparisionItems"])]),_:1}),t(o(m),{header:"Menús",class:"align-top"},{body:d(i=>[B,t(h,{target:"name",items:l.menus,comparisionItems:l.roleMenu,comparisionFlag:!0,onUploadData:p},null,8,["items","comparisionItems"])]),_:1})]),_:1}),s("input",{type:"hidden",name:"_token",value:e.csrf},null,8,C),t(o(P),{href:e.route("roles.indexRelationship")},{default:d(()=>[t(o(g),{label:"Listado",class:"bottom-24 fixed px-3 py-1"})]),_:1},8,["href"]),t(o(g),{type:"submit",label:"Editar",class:"bottom-24 ml-24 fixed mt-6 px-6 py-1 bg-yellow-400 border-yellow-400 hover:bg-yellow-500 hover:border-yellow-500 focus:ring-2 focus:ring-offset-2 focus:ring-yellow-600"})],32)])])])]),_:1}))}});export{T as default};
